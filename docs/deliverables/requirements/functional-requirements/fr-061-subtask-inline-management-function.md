# ID: RDD-FRQ-2025-061

# 機能: サブタスクインライン管理機能

## 概要

タスク詳細画面内で、サブタスクを直接追加、編集、完了できる機能です。これにより、階層的なタスク管理を容易にし、ユーザーの操作効率を向上させます。

### 入力

- 親タスクID: 文字列, 必須, サブタスクを管理する親タスクの一意な識別子
- サブタスク情報: オブジェクト, 必須（新規作成時: タイトル、説明など。編集時: サブタスクID、変更内容）
- 操作: 文字列, 必須（例: 'ADD', 'EDIT', 'COMPLETE', 'DELETE'）

### 処理内容

1. ユーザーからのサブタスク管理操作要求を受け付ける。
1. 入力された情報のバリデーションを行う。
1. バリデーションが成功した場合、指定された親タスクのサブタスクを更新する。
   - **追加**: 新規サブタスクを作成し、親タスクに紐付ける。
   - **編集**: 既存サブタスクの情報を更新する。
   - **完了**: サブタスクのステータスを「完了」に更新する。
   - **削除**: サブタスクを削除する。
1. サブタスクの更新が完了したら、ユーザーに処理成功の通知を行う。

### 出力

- 成功時: 「サブタスクを更新しました。」というメッセージ
- エラー時: エラーメッセージ

### エラー処理

- 無効な入力値: 「[項目名]の入力値が不正です。」, 画面上部にメッセージを表示。
- システムエラー: 「サブタスクの管理中にエラーが発生しました。再度お試しください。」, 画面上部にメッセージを表示。

### 関連するユースケース

- UC-XXX (サブタスクを管理する) ※新規作成を想定

### 関連する業務フロー

- [BF-003 (タスク整理フロー)](../business-flows/bf-003-task-organization-flow.md)

### 関連する非機能要件

- [NFR-008 (ユーザビリティ)](../non-functional-requirements/nfr-008-usability.md): 階層的なタスク管理が容易であること。

### 関連する画面

- [SCR-007 (タスク詳細画面)](../screens/scr-007-task-detail-screen.md)
